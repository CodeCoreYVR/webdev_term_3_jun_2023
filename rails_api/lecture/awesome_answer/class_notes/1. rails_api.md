* Change response depanding on the http header
```ruby
respond_to do |format|
    format.html { render }
    format.json { render json: @questions }
end
```
Browser will receive html response, and using curl we can have json response.
```
curl -H "Accept:application/json" http://localhost:3000/questions
```

* Add routes for api/v1/questions and check all the route created for api
```ruby
namespace :api, defaults: {format: :json} do
    namespace :v1 do
      resources :questions
    end
  end
```

* Generate an api controller for questions
```
rails g controller api::v1::questions --no-assets --no-helper --skip-template-engine
```

* Add index and show for questions controller
```ruby
    def index
        questions = Question.order("created_at desc")
        render json: questions
    end

    def show
        question = Question.find(params[:id])
        render json: question
    end
```

* Add active model serializer
```
gem 'active_model_serializers', '~> 0.10.2'
```

* Generate serializer for question. And file will be created at `serializers/question_serializer.rb`
```
rails g serializer question
```

* Allow the fields for question serializer
```ruby
attributes :id, :title, :body, :created_at, :updated_at, :view_count, :like_count

  def like_count
    object.likes.count
  end

  belongs_to user, key :author
  class UserSerializer < ActiveModel::Serializer
    attributes :id, :first_name, :last_name, :full_name
  end
```